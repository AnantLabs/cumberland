#summary a tile pyramider generator for popular web mapping applications

= Introduction =

Most modern web mapping interfaces use tiles.  This has the advantage of allowing the tiles to be pre-generated instead of per-user.  Tilepyramider generates a pyramid of tile images into a directory structure that you can use with these interfaces.

_Note: Currently only Google Maps is supported as a Tile Consumer._

= Usage = 

Tilepyramider is a command line utility, its usage is as follows:

{{{
Usage: [mono] tilepyramider.exe [OPTIONS]+ "path to map file"
Generates a pyramid of tile images for use for popular web mapping interfaces

example: mono tilepyramider.exe  /path/to/map

Options:
  -e, --extents=VALUE        comma-delimited extents for clipping tile generation (e.g. -180,-90,180,90).  Overrides the map file.  (Must be in map's coordinate system)
  -h, --help                 show this message and exit
  -o, --output=VALUE         the path of the where to create.  Defaults to current directory
  -x, --maxzoom=VALUE        the maximum zoom level
  -n, --minzoom=VALUE        the minimum zoom level
  -t, --test                 Test - only calculate the total and return
}}}

This generates a set of folders, named by their zoom level, in the output folder specified.  If no output folder is specified, the tile folders are generated in the current directory.  Inside of each folder are the generated tiles.  They are named X_Y.png.  Where the 'X' and 'Y' are their tile coordinates.

= Deployment =

The directory can be copied to your web server.  In order to use Google Maps on your website, you will need a key ([http://code.google.com/apis/maps/signup.html sign up here]).  Finally, you will need to add the html and script to your web page:

Add a div element for the map:

{{{
<div id="map_canvas" style="width: 500px; height: 300px"></div>
}}}

And in the head, a reference to google maps script (replace with your key):

{{{
<script src="http://maps.google.com/maps?file=api&amp;v=2&amp;key={your key}"   type="text/javascript"></script>
}}}

Next, the script to load the map and tile overlay:

{{{
<script type="text/javascript">

function initialize() 
{
	if (GBrowserIsCompatible()) 
	{
		var map;
	        map = new GMap2(document.getElementById("map_canvas"));
	        map.setCenter(new GLatLng(24.5, -81.7), 9);
	        map.addControl(new GSmallMapControl());
	        map.addControl(new GMapTypeControl());
	        
		var tileLayerOverlay = new GTileLayerOverlay(
			new GTileLayer(null, null, null, {
			    tileUrlTemplate: '/tiles/reefs/{Z}/{X}_{Y}.png', 
			    isPng:true,
			    opacity:1.0
			  })
			);
			
		map.addOverlay(tileLayerOverlay);
	}
}
</script>

}}}

You'll need to point map.setCenter to the center longitude/latitude of where you want your map (and at what zoom level).  Also, the GTileLayerOverlay.tileUrlTemplate property should be set to the path where you uploaded your tiles generated by tilepyramider.  This property is used by Google Maps to acquire tiles (it replaces the {Z},{X},{Y} with the tile coordinates as requested).

Finally, handle loading/unloading in the html body element:

{{{
<body onload="initialize();" onunload="GUnload();">
}}}
